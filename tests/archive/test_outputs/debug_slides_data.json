{
  "title": "ApexCharts Debug Test - Formatter Investigation",
  "slides": [
    {
      "layout": "L29",
      "content": {
        "slide_title": "ApexCharts Debug Test",
        "element_1": "Testing formatters vs no formatters",
        "element_2": "This presentation tests whether formatters are causing the rendering issue",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    },
    {
      "layout": "L02",
      "content": {
        "slide_title": "Test 1: Line Chart WITHOUT Formatter",
        "element_1": "No formatter functions - raw values displayed",
        "element_3": "<div id=\"chart-line-no-formatter\" style=\"width: 100%; height: 720px;\"></div>\n<script>\n(function() {\n  console.log('\ud83d\udd0d DEBUG: Chart script executing for chart-line-no-formatter');\n\n  if (typeof ApexCharts === 'undefined') {\n    console.error('\u274c ApexCharts library not loaded for chart-line-no-formatter');\n    return;\n  }\n  console.log('\u2705 ApexCharts available');\n\n  // ApexCharts configuration\n  const options = {\n    \"chart\": {\n      \"type\": \"line\",\n      \"height\": 720,\n      \"width\": \"100%\",\n      \"animations\": {\n        \"enabled\": true,\n        \"speed\": 800\n      },\n      \"toolbar\": {\n        \"show\": false\n      },\n      \"fontFamily\": \"Inter, system-ui, sans-serif\"\n    },\n    \"series\": [\n      {\n        \"name\": \"Revenue\",\n        \"data\": [125, 145, 178, 195]\n      }\n    ],\n    \"xaxis\": {\n      \"categories\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"]\n    },\n    \"stroke\": {\n      \"curve\": \"smooth\",\n      \"width\": 3\n    },\n    \"markers\": {\n      \"size\": 6\n    },\n    \"colors\": [\"#003f5c\"]\n  };\n\n  // DEBUG: Output complete config\n  console.log('\ud83d\udd0d DEBUG: Complete ApexCharts config for chart-line-no-formatter:', JSON.stringify(options, null, 2));\n  console.log('\ud83d\udd0d DEBUG: Series data:', options.series);\n  console.log('\ud83d\udd0d DEBUG: X-axis categories:', options.xaxis?.categories);\n  console.log('\ud83d\udd0d DEBUG: Chart type:', options.chart?.type);\n\n  const chartElement = document.querySelector('#chart-line-no-formatter');\n  if (!chartElement) {\n    console.error('\u274c Chart element not found: #chart-line-no-formatter');\n    return;\n  }\n  console.log('\u2705 Chart element found');\n\n  try {\n    const chart = new ApexCharts(chartElement, options);\n    console.log('\u2705 ApexCharts instance created for chart-line-no-formatter');\n\n    if (typeof Reveal !== 'undefined') {\n      console.log('\u2705 Reveal.js detected');\n\n      Reveal.on('ready', function() {\n        console.log('\ud83c\udfaf Reveal.js ready - attempting to render chart-line-no-formatter');\n        const currentSlide = Reveal.getCurrentSlide();\n        if (currentSlide && currentSlide.querySelector('#chart-line-no-formatter')) {\n          console.log('\ud83c\udfa8 Rendering chart-line-no-formatter now...');\n          try {\n            chart.render();\n            console.log('\u2705 Chart chart-line-no-formatter rendered successfully!');\n            chart.rendered = true;\n          } catch (renderError) {\n            console.error('\u274c Render error for chart-line-no-formatter:', renderError);\n            console.error('Stack trace:', renderError.stack);\n          }\n        }\n      });\n\n      Reveal.on('slidechanged', function(event) {\n        const currentSlide = event.currentSlide;\n        if (currentSlide && currentSlide.querySelector('#chart-line-no-formatter')) {\n          if (!chart.rendered) {\n            console.log('\ud83c\udfa8 Rendering chart-line-no-formatter (slide changed)');\n            try {\n              chart.render();\n              console.log('\u2705 Chart chart-line-no-formatter rendered successfully!');\n              chart.rendered = true;\n            } catch (renderError) {\n              console.error('\u274c Render error for chart-line-no-formatter:', renderError);\n              console.error('Stack trace:', renderError.stack);\n            }\n          }\n        }\n      });\n    } else {\n      console.log('\u26a0\ufe0f Reveal.js not detected, rendering immediately');\n      try {\n        chart.render();\n        console.log('\u2705 Chart chart-line-no-formatter rendered successfully!');\n      } catch (renderError) {\n        console.error('\u274c Render error for chart-line-no-formatter:', renderError);\n        console.error('Stack trace:', renderError.stack);\n      }\n    }\n  } catch (constructorError) {\n    console.error('\u274c Error creating ApexCharts instance for chart-line-no-formatter:', constructorError);\n    console.error('Stack trace:', constructorError.stack);\n  }\n})();\n</script>",
        "element_2": "This chart has NO formatter. If it renders, the problem is formatters. If it doesn't render, the problem is elsewhere.",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    },
    {
      "layout": "L02",
      "content": {
        "slide_title": "Test 2: Bar Chart WITHOUT Formatter",
        "element_1": "No formatter functions - raw values displayed",
        "element_3": "<div id=\"chart-bar-no-formatter\" style=\"width: 100%; height: 720px;\"></div>\n<script>\n(function() {\n  console.log('\ud83d\udd0d DEBUG: Chart script executing for chart-bar-no-formatter');\n\n  if (typeof ApexCharts === 'undefined') {\n    console.error('\u274c ApexCharts library not loaded for chart-bar-no-formatter');\n    return;\n  }\n  console.log('\u2705 ApexCharts available');\n\n  // ApexCharts configuration\n  const options = {\n    \"chart\": {\n      \"type\": \"bar\",\n      \"height\": 720,\n      \"width\": \"100%\",\n      \"animations\": {\n        \"enabled\": true,\n        \"speed\": 800\n      },\n      \"toolbar\": {\n        \"show\": false\n      },\n      \"fontFamily\": \"Inter, system-ui, sans-serif\"\n    },\n    \"plotOptions\": {\n      \"bar\": {\n        \"horizontal\": false,\n        \"borderRadius\": 8,\n        \"columnWidth\": \"60%\"\n      }\n    },\n    \"series\": [\n      {\n        \"name\": \"Sales\",\n        \"data\": [450, 380, 290, 220]\n      }\n    ],\n    \"xaxis\": {\n      \"categories\": [\"Software\", \"Cloud\", \"Consulting\", \"Support\"]\n    },\n    \"colors\": [\"#2f4b7c\"]\n  };\n\n  // DEBUG: Output complete config\n  console.log('\ud83d\udd0d DEBUG: Complete ApexCharts config for chart-bar-no-formatter:', JSON.stringify(options, null, 2));\n  console.log('\ud83d\udd0d DEBUG: Series data:', options.series);\n  console.log('\ud83d\udd0d DEBUG: X-axis categories:', options.xaxis?.categories);\n  console.log('\ud83d\udd0d DEBUG: Chart type:', options.chart?.type);\n\n  const chartElement = document.querySelector('#chart-bar-no-formatter');\n  if (!chartElement) {\n    console.error('\u274c Chart element not found: #chart-bar-no-formatter');\n    return;\n  }\n  console.log('\u2705 Chart element found');\n\n  try {\n    const chart = new ApexCharts(chartElement, options);\n    console.log('\u2705 ApexCharts instance created for chart-bar-no-formatter');\n\n    if (typeof Reveal !== 'undefined') {\n      console.log('\u2705 Reveal.js detected');\n\n      Reveal.on('ready', function() {\n        console.log('\ud83c\udfaf Reveal.js ready - attempting to render chart-bar-no-formatter');\n        const currentSlide = Reveal.getCurrentSlide();\n        if (currentSlide && currentSlide.querySelector('#chart-bar-no-formatter')) {\n          console.log('\ud83c\udfa8 Rendering chart-bar-no-formatter now...');\n          try {\n            chart.render();\n            console.log('\u2705 Chart chart-bar-no-formatter rendered successfully!');\n            chart.rendered = true;\n          } catch (renderError) {\n            console.error('\u274c Render error for chart-bar-no-formatter:', renderError);\n            console.error('Stack trace:', renderError.stack);\n          }\n        }\n      });\n\n      Reveal.on('slidechanged', function(event) {\n        const currentSlide = event.currentSlide;\n        if (currentSlide && currentSlide.querySelector('#chart-bar-no-formatter')) {\n          if (!chart.rendered) {\n            console.log('\ud83c\udfa8 Rendering chart-bar-no-formatter (slide changed)');\n            try {\n              chart.render();\n              console.log('\u2705 Chart chart-bar-no-formatter rendered successfully!');\n              chart.rendered = true;\n            } catch (renderError) {\n              console.error('\u274c Render error for chart-bar-no-formatter:', renderError);\n              console.error('Stack trace:', renderError.stack);\n            }\n          }\n        }\n      });\n    } else {\n      console.log('\u26a0\ufe0f Reveal.js not detected, rendering immediately');\n      try {\n        chart.render();\n        console.log('\u2705 Chart chart-bar-no-formatter rendered successfully!');\n      } catch (renderError) {\n        console.error('\u274c Render error for chart-bar-no-formatter:', renderError);\n        console.error('Stack trace:', renderError.stack);\n      }\n    }\n  } catch (constructorError) {\n    console.error('\u274c Error creating ApexCharts instance for chart-bar-no-formatter:', constructorError);\n    console.error('Stack trace:', constructorError.stack);\n  }\n})();\n</script>",
        "element_2": "This chart has NO formatter. If it renders, the problem is formatters. If it doesn't render, the problem is elsewhere.",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    },
    {
      "layout": "L02",
      "content": {
        "slide_title": "Test 3: Donut Chart (Working Baseline)",
        "element_1": "With percentage formatter - KNOWN TO WORK",
        "element_3": "<div id=\"chart-donut-working\" style=\"width: 100%; height: 720px;\"></div>\n<script>\n(function() {\n  console.log('\ud83d\udcca Chart script executing for chart-donut-working');\n\n  // Check if ApexCharts is available\n  if (typeof ApexCharts === 'undefined') {\n    console.error('\u274c ApexCharts library not loaded for chart-donut-working');\n    return;\n  }\n  console.log('\u2705 ApexCharts available for chart-donut-working');\n\n  // ApexCharts configuration\n  const options = {\n    \"chart\": {\n      \"type\": \"donut\",\n      \"height\": 720,\n      \"width\": \"100%\",\n      \"animations\": {\n        \"enabled\": true,\n        \"speed\": 800\n      },\n      \"fontFamily\": \"Inter, system-ui, sans-serif\"\n    },\n    \"series\": [45, 30, 25],\n    \"labels\": [\"Enterprise\", \"SMB\", \"Startup\"],\n    \"colors\": [\"#003f5c\", \"#2f4b7c\", \"#665191\", \"#a05195\", \"#d45087\"],\n    \"legend\": {\n      \"position\": \"bottom\",\n      \"fontSize\": \"16px\",\n      \"fontWeight\": 500,\n      \"horizontalAlign\": \"center\"\n    },\n    \"dataLabels\": {\n      \"enabled\": true,\n      \"formatter\": (val) => `${Number(val).toFixed(1)}%`,\n      \"style\": {\n        \"fontSize\": \"16px\",\n        \"fontWeight\": \"bold\"\n      }\n    },\n    \"plotOptions\": {\n      \"pie\": {\n        \"donut\": {\n          \"size\": \"65%\",\n          \"labels\": {\n            \"show\": true,\n            \"total\": {\n              \"show\": true,\n              \"label\": \"Total\",\n              \"fontSize\": \"18px\",\n              \"fontWeight\": 600,\n              \"formatter\": (w) => w.globals.seriesTotals.reduce((a, b) => a + b, 0).toLocaleString()\n            }\n          }\n        }\n      }\n    },\n    \"tooltip\": {\n      \"y\": {\n        \"formatter\": (val) => `${Number(val).toFixed(1)}%`\n      }\n    }\n  };\n\n  // Initialize chart\n  const chartElement = document.querySelector('#chart-donut-working');\n  if (!chartElement) {\n    console.error('\u274c Chart element not found: #chart-donut-working');\n    return;\n  }\n  console.log('\u2705 Chart element found: #chart-donut-working');\n\n  const chart = new ApexCharts(chartElement, options);\n  console.log('\u2705 ApexCharts instance created for chart-donut-working');\n\n  // Reveal.js integration - animate on slide appearance\n  if (typeof Reveal !== 'undefined') {\n    console.log('\u2705 Reveal.js detected for chart-donut-working');\n\n    // Wait for Reveal.js to be fully initialized\n    Reveal.on('ready', function() {\n      console.log('\ud83c\udfaf Reveal.js ready event fired for chart-donut-working');\n      // Check if chart is on current slide\n      const currentSlide = Reveal.getCurrentSlide();\n      if (currentSlide && currentSlide.querySelector('#chart-donut-working')) {\n        console.log('\ud83c\udfa8 Rendering chart chart-donut-working (on initial slide)');\n        chart.render();\n        chart.rendered = true;\n      }\n    });\n\n    // Render chart when navigating to its slide\n    Reveal.on('slidechanged', function(event) {\n      const currentSlide = event.currentSlide;\n      if (currentSlide && currentSlide.querySelector('#chart-donut-working')) {\n        if (!chart.rendered) {\n          console.log('\ud83c\udfa8 Rendering chart chart-donut-working (slide changed)');\n          chart.render();\n          chart.rendered = true;\n        } else {\n          console.log('\u2139\ufe0f Chart chart-donut-working already rendered');\n        }\n      }\n    });\n  } else {\n    // Fallback for non-Reveal.js contexts\n    console.log('\u26a0\ufe0f Reveal.js not detected, rendering immediately for chart-donut-working');\n    chart.render();\n  }\n})();\n</script>",
        "element_2": "This chart has the percentage formatter and is known to work. Use this as a baseline for comparison.",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    },
    {
      "layout": "L02",
      "content": {
        "slide_title": "Test 4: Line Chart WITH Formatter",
        "element_1": "Currency formatter - EXPECTED TO FAIL",
        "element_3": "<div id=\"chart-line-with-formatter\" style=\"width: 100%; height: 720px;\"></div>\n<script>\n(function() {\n  console.log('\ud83d\udcca Chart script executing for chart-line-with-formatter');\n\n  // Check if ApexCharts is available\n  if (typeof ApexCharts === 'undefined') {\n    console.error('\u274c ApexCharts library not loaded for chart-line-with-formatter');\n    return;\n  }\n  console.log('\u2705 ApexCharts available for chart-line-with-formatter');\n\n  // ApexCharts configuration\n  const options = {\n    \"chart\": {\n      \"type\": \"line\",\n      \"height\": 720,\n      \"width\": \"100%\",\n      \"animations\": {\n        \"enabled\": true,\n        \"easing\": \"easeinout\",\n        \"speed\": 800,\n        \"animateGradually\": {\n          \"enabled\": true,\n          \"delay\": 150\n        }\n      },\n      \"toolbar\": {\n        \"show\": false\n      },\n      \"fontFamily\": \"Inter, system-ui, sans-serif\"\n    },\n    \"series\": [\n      {\n        \"name\": \"Revenue\",\n        \"data\": [125000, 145000, 178000, 195000]\n      }\n    ],\n    \"xaxis\": {\n      \"categories\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      \"labels\": {\n        \"style\": {\n          \"fontSize\": \"14px\",\n          \"fontWeight\": 500\n        }\n      }\n    },\n    \"yaxis\": {\n      \"labels\": {\n        \"style\": {\n          \"fontSize\": \"14px\"\n        },\n        \"formatter\": (val) => `$${(Number(val)/1000).toFixed(0)}K`\n      }\n    },\n    \"stroke\": {\n      \"curve\": \"smooth\",\n      \"width\": 3\n    },\n    \"markers\": {\n      \"size\": 6,\n      \"hover\": {\n        \"size\": 8\n      }\n    },\n    \"colors\": [\"#003f5c\"],\n    \"tooltip\": {\n      \"y\": {\n        \"formatter\": (val) => `$${Number(val).toLocaleString()}`\n      }\n    },\n    \"grid\": {\n      \"borderColor\": \"#e0e0e0\",\n      \"strokeDashArray\": 4\n    }\n  };\n\n  // Initialize chart\n  const chartElement = document.querySelector('#chart-line-with-formatter');\n  if (!chartElement) {\n    console.error('\u274c Chart element not found: #chart-line-with-formatter');\n    return;\n  }\n  console.log('\u2705 Chart element found: #chart-line-with-formatter');\n\n  const chart = new ApexCharts(chartElement, options);\n  console.log('\u2705 ApexCharts instance created for chart-line-with-formatter');\n\n  // Reveal.js integration - animate on slide appearance\n  if (typeof Reveal !== 'undefined') {\n    console.log('\u2705 Reveal.js detected for chart-line-with-formatter');\n\n    // Wait for Reveal.js to be fully initialized\n    Reveal.on('ready', function() {\n      console.log('\ud83c\udfaf Reveal.js ready event fired for chart-line-with-formatter');\n      // Check if chart is on current slide\n      const currentSlide = Reveal.getCurrentSlide();\n      if (currentSlide && currentSlide.querySelector('#chart-line-with-formatter')) {\n        console.log('\ud83c\udfa8 Rendering chart chart-line-with-formatter (on initial slide)');\n        chart.render();\n        chart.rendered = true;\n      }\n    });\n\n    // Render chart when navigating to its slide\n    Reveal.on('slidechanged', function(event) {\n      const currentSlide = event.currentSlide;\n      if (currentSlide && currentSlide.querySelector('#chart-line-with-formatter')) {\n        if (!chart.rendered) {\n          console.log('\ud83c\udfa8 Rendering chart chart-line-with-formatter (slide changed)');\n          chart.render();\n          chart.rendered = true;\n        } else {\n          console.log('\u2139\ufe0f Chart chart-line-with-formatter already rendered');\n        }\n      }\n    });\n  } else {\n    // Fallback for non-Reveal.js contexts\n    console.log('\u26a0\ufe0f Reveal.js not detected, rendering immediately for chart-line-with-formatter');\n    chart.render();\n  }\n})();\n</script>",
        "element_2": "This chart has the currency formatter. Expected to fail based on previous tests. Compare console logs with Test 1.",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    },
    {
      "layout": "L02",
      "content": {
        "slide_title": "Test 5: Bar Chart WITH Formatter",
        "element_1": "Currency formatter - EXPECTED TO FAIL",
        "element_3": "<div id=\"chart-bar-with-formatter\" style=\"width: 100%; height: 720px;\"></div>\n<script>\n(function() {\n  console.log('\ud83d\udcca Chart script executing for chart-bar-with-formatter');\n\n  // Check if ApexCharts is available\n  if (typeof ApexCharts === 'undefined') {\n    console.error('\u274c ApexCharts library not loaded for chart-bar-with-formatter');\n    return;\n  }\n  console.log('\u2705 ApexCharts available for chart-bar-with-formatter');\n\n  // ApexCharts configuration\n  const options = {\n    \"chart\": {\n      \"type\": \"bar\",\n      \"height\": 720,\n      \"width\": \"100%\",\n      \"animations\": {\n        \"enabled\": true,\n        \"speed\": 800,\n        \"animateGradually\": {\n          \"enabled\": true,\n          \"delay\": 150\n        }\n      },\n      \"toolbar\": {\n        \"show\": false\n      },\n      \"fontFamily\": \"Inter, system-ui, sans-serif\"\n    },\n    \"plotOptions\": {\n      \"bar\": {\n        \"horizontal\": false,\n        \"borderRadius\": 8,\n        \"dataLabels\": {\n          \"position\": \"top\"\n        },\n        \"columnWidth\": \"60%\"\n      }\n    },\n    \"dataLabels\": {\n      \"enabled\": true,\n      \"formatter\": (val) => `$${(Number(val)/1000).toFixed(0)}K`,\n      \"offsetY\": -20,\n      \"style\": {\n        \"fontSize\": \"14px\",\n        \"fontWeight\": \"bold\",\n        \"colors\": [\"#304758\"]\n      }\n    },\n    \"series\": [\n      {\n        \"name\": \"Sales\",\n        \"data\": [450000, 380000, 290000, 220000]\n      }\n    ],\n    \"xaxis\": {\n      \"categories\": [\"Software\", \"Cloud\", \"Consulting\", \"Support\"],\n      \"labels\": {\n        \"style\": {\n          \"fontSize\": \"14px\",\n          \"fontWeight\": 500\n        }\n      }\n    },\n    \"yaxis\": {\n      \"labels\": {\n        \"style\": {\n          \"fontSize\": \"14px\"\n        },\n        \"formatter\": (val) => `$${(Number(val)/1000).toFixed(0)}K`\n      }\n    },\n    \"colors\": [\"#2f4b7c\"],\n    \"tooltip\": {\n      \"y\": {\n        \"formatter\": (val) => `$${Number(val).toLocaleString()}`\n      }\n    },\n    \"grid\": {\n      \"borderColor\": \"#e0e0e0\",\n      \"strokeDashArray\": 4\n    }\n  };\n\n  // Initialize chart\n  const chartElement = document.querySelector('#chart-bar-with-formatter');\n  if (!chartElement) {\n    console.error('\u274c Chart element not found: #chart-bar-with-formatter');\n    return;\n  }\n  console.log('\u2705 Chart element found: #chart-bar-with-formatter');\n\n  const chart = new ApexCharts(chartElement, options);\n  console.log('\u2705 ApexCharts instance created for chart-bar-with-formatter');\n\n  // Reveal.js integration - animate on slide appearance\n  if (typeof Reveal !== 'undefined') {\n    console.log('\u2705 Reveal.js detected for chart-bar-with-formatter');\n\n    // Wait for Reveal.js to be fully initialized\n    Reveal.on('ready', function() {\n      console.log('\ud83c\udfaf Reveal.js ready event fired for chart-bar-with-formatter');\n      // Check if chart is on current slide\n      const currentSlide = Reveal.getCurrentSlide();\n      if (currentSlide && currentSlide.querySelector('#chart-bar-with-formatter')) {\n        console.log('\ud83c\udfa8 Rendering chart chart-bar-with-formatter (on initial slide)');\n        chart.render();\n        chart.rendered = true;\n      }\n    });\n\n    // Render chart when navigating to its slide\n    Reveal.on('slidechanged', function(event) {\n      const currentSlide = event.currentSlide;\n      if (currentSlide && currentSlide.querySelector('#chart-bar-with-formatter')) {\n        if (!chart.rendered) {\n          console.log('\ud83c\udfa8 Rendering chart chart-bar-with-formatter (slide changed)');\n          chart.render();\n          chart.rendered = true;\n        } else {\n          console.log('\u2139\ufe0f Chart chart-bar-with-formatter already rendered');\n        }\n      }\n    });\n  } else {\n    // Fallback for non-Reveal.js contexts\n    console.log('\u26a0\ufe0f Reveal.js not detected, rendering immediately for chart-bar-with-formatter');\n    chart.render();\n  }\n})();\n</script>",
        "element_2": "This chart has the currency formatter. Expected to fail based on previous tests. Compare console logs with Test 2.",
        "presentation_name": "Debug Test",
        "company_logo": "\ud83d\udd0d"
      }
    }
  ]
}